"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WrappedToken = void 0;
const index_js_1 = require("../math/index.js");
const Token_js_1 = require("./Token.js");
class WrappedToken extends Token_js_1.Token {
    underlying;
    constructor(token, underlying) {
        super(token);
        this.underlying = underlying;
    }
    /** The expected amount when wrapping `unwrappedAmount` */
    toWrappedExactAmountIn(unwrappedAmount, slippage = 0n, rounding = "Down") {
        const wrappedAmount = this._wrap(unwrappedAmount, rounding);
        return index_js_1.MathLib.wMul(wrappedAmount, index_js_1.MathLib.WAD - slippage, "Down");
    }
    /** The amount of unwrappedTokens that should be wrapped to receive `wrappedAmount` */
    toWrappedExactAmountOut(wrappedAmount, slippage = 0n, rounding = "Up") {
        const wAmountTarget = index_js_1.MathLib.wDiv(wrappedAmount, index_js_1.MathLib.WAD - slippage, rounding);
        return this._unwrap(wAmountTarget, rounding);
    }
    /** The expected amount when unwrapping `wrappedAmount` */
    toUnwrappedExactAmountIn(wrappedAmount, slippage = 0n, rounding = "Down") {
        const unwrappedAmount = this._unwrap(wrappedAmount, rounding);
        return index_js_1.MathLib.wMul(unwrappedAmount, index_js_1.MathLib.WAD - slippage, "Up");
    }
    /** The amount of wrappedTokens that should be unwrapped to receive `unwrappedAmount` */
    toUnwrappedExactAmountOut(unwrappedAmount, slippage = 0n, rounding = "Up") {
        const unwrappedAmountToTarget = index_js_1.MathLib.wDiv(unwrappedAmount, index_js_1.MathLib.WAD - slippage, rounding);
        return this._wrap(unwrappedAmountToTarget, rounding);
    }
}
exports.WrappedToken = WrappedToken;
