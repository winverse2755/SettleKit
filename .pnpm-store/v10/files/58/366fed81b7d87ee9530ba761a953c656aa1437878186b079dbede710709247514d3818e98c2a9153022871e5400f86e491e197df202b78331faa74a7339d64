"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VaultMarketAllocation = void 0;
const index_js_1 = require("../math/index.js");
class VaultMarketAllocation {
    /**
     * The vault's configuration on the corresponding market.
     */
    config;
    /**
     * The vault's position on the corresponding market.
     */
    position;
    constructor({ config, position }) {
        this.config = config;
        this.position = position;
    }
    get vault() {
        return this.config.vault;
    }
    get marketId() {
        return this.config.marketId;
    }
    get utilization() {
        if (this.config.cap === 0n)
            return index_js_1.MathLib.MAX_UINT_256;
        return index_js_1.MathLib.wDivDown(this.position.supplyAssets, this.config.cap);
    }
}
exports.VaultMarketAllocation = VaultMarketAllocation;
